# 软件设计基础

## 软件设计过程

- ![软件设计过程](./images/软件开发阶段的信息流.png)

## 软件设计的任务和步骤

- 软件设计的任务和步骤：制定规范，软件系统结构的总体设计，处理方式设计，数据结构设计，可靠性设计

## 软件设计的方法

- 软件设计的方法：结构化设计方法，面向对象的设计方法

## 软件设计的基础

- 模块分解
  - ![软件⼯工程基本定理理](./images/软件⼯工程基本定理理.png)
  - ![最小成本定理](./images/最小成本定理.png)

- 信息隐藏：每个模块的实现细节对于其他模块是隐藏的

- 模块的独立性（耦合：模块之间的相对独立性的度量，内聚：模块功能强度的度量）
  - ![模块独立性与内聚](./images/模块独立性与内聚.png)
  - 内聚种类
    - 巧合性内聚（联系松散）
    - 逻辑性内聚（多个不同功能组合在一起，唯一入口通过参数判定）
    - 信息性内聚（多个不同功能组合在一起，有各自的入口）
    - 功能性内聚（所有成分完成一个功能）
  - ![模块独立性与耦合](./images/模块独立性与耦合.png)
  - 耦合种类
    - 公共耦合（允许一组模块访问同一全局性的数据结构）
    - 控制耦合（一个模块控制另一个模块）

## 结构化设计方法 SD（Structured Design）

> 结构化设计的目的：使程序的结构尽可能反映要解决的问题的结构
>
> 结构化设计的任务：完成系统结构图 SC

- SC 图 --- Structured Chart：表示系统的软件结构
  - ![SC图的一般格式](./images/SC图的一般格式.png)

- 典型的系统结构形式
  - 模块种类：原子模块（不能再分割的底层模块），传入模块（从下级模块取数据，传给上级模块），传出模块（从上级模块取数据，传给下级模块），变换模块（从上级模块取数据，转换后，传回上级模块），协调模块（对所有下属模块协调和管理的模块）
  - ![典型的系统结构形式之一变换型系统结构图](./images/变换型系统结构图.png)
  - ![典型的系统结构形式之⼆事务型系统结构图](./images/事务型系统结构图.png)
  - ![典型的系统结构形式之⼆事务型系统结构层次图](./images/事务型系统结构层次图.png)

- 从 DFD 图导出 SC 图的步骤
  - ![从DFD图导出SC图的步骤](./images/从DFD图导出SC图的步骤.png)
  - 变换分析：将具有`变换型`的DFD图导出SC图
    1. ![DFD图导出SC图标出分界](./images/DFD图导出SC图标出分界.png)
    2. ![DFD图导出SC图第⼀级分解](./images/DFD图导出SC图第⼀级分解.png)
    3. ![逻辑输入分析1](./images/逻辑输入分析1.png)
    4. ![逻辑输入分析2](./images/逻辑输入分析2.png)
    5. ![DFD图导出SC图第⼆级分解](./images/DFD图导出SC图第⼆级分解.png)
    6. ![DFD图导出SC图完整SC图](./images/DFD图导出SC图完整SC图.png)
    7. ![⾼高内聚低耦合](./images/高内聚低耦合.png)
    8. ![具有松散型的耦合类型](./images/具有松散型的耦合类型.png)
  - 事务分析：将具有`事务型`的DFD图导出SC图
    - ![将具有事务型的DFD图导出SC图](./images/将具有事务型的DFD图导出SC图.png)

- 软件模块结构的改进
  - 完善功能
  - 消除重复功能
  - 模块的`作用范围`应在`控制范围`之内: 作用范围（受这个模块中的判定所影响的模块），控制范围（包括模块本身及其所有的从属模块（即供它调用的模块））
    - ![符合作⽤用范围-控制范围的理理想判定位置](./images/符合作⽤用范围-控制范围的理理想判定位置.png)
  - 尽可能减少高扇出结构，随着深度增大扇入
    - ![扇出与扇入](./images/扇出与扇入.png)
  - 模块的大小要适中，所含语句 50-100 行
  - 应设计出功能可预测的模块，但要避免过分受限制的模块